<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./styles.css" />
  <link rel="stylesheet" href="./eventy-page.css" />
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
  <title>Menu | Hotel Olimp</title>
</head>
<body class="events-page">
  <nav>
    <div class="nav__bar">
      <div class="nav__header">
        <div class="logo nav__logo">
          <div>H</div>
          <span>HOTEL<br />Olimp</span>
        </div>
        <button class="nav__menu__btn" id="menu-btn" aria-label="Otwórz menu">
          <i class="ri-menu-line"></i>
        </button>
      </div>
      <ul class="nav__links" id="nav--links">
        <li><a href="index.html">Home</a></li>
        <li><a href="onas.html">O nas</a></li>
        <li><a href="pokoje.html">Pokoje</a></li>
        <li><a href="menu.html" class="active">Menu</a></li>
        <li><a href="eventy.html">Eventy</a></li>
        <li><a href="logowanie.html">Logowanie</a></li>
        <li id="adminNavItem" hidden>
  <a href="paneladmin.html">Panel Admina</a>
</li>
      </ul>
    </div>
  </nav>

  <header class="events-hero">
    <div class="events-hero__inner">
      <p class="eyebrow">Smaki Hotelu Olimp</p>
      <h1>NASZE MENU</h1>
      <p>Kliknij w kategorię, aby zobaczyć nasze specjały.</p>
    </div>
  </header>

  <main class="events-wrap">
    <section class="menu-categories-grid">
      <div class="category-card" onclick="openMenu('breakfast')">
        <i class="ri-sun-line"></i>
        <h3>Śniadania</h3>
      </div>
      <div class="category-card" onclick="openMenu('lunch')">
        <i class="ri-knife-line"></i>
        <h3>Obiady</h3>
      </div>
      <div class="category-card" onclick="openMenu('dinner')">
        <i class="ri-moon-line"></i>
        <h3>Kolacje</h3>
      </div>
      <div class="category-card" onclick="openMenu('desserts')">
        <i class="ri-cake-3-line"></i>
        <h3>Desery</h3>
      </div>
      <div class="category-card" onclick="openMenu('drinks')">
        <i class="ri-beer-line"></i>
        <h3>Drinki i Napoje</h3>
      </div>
    </section>
  </main>

  <div id="menu-modal" class="modal-overlay">
    <div class="modal-content">
      <button class="close-modal" onclick="closeMenu()">&times;</button>
      <div id="modal-body">
        </div>
    </div>
  </div>

  <script>
    // Dane menu w obiekcie JS
    const menuData = {
      breakfast: {
        title: "Oferta Poranna",
        items: [
          {n: "Omlet ze szparagami i serem kozim", p: "29 zł"},
          {n: "Jajecznica z 3 jaj na maśle z boczkiem", p: "25 zł"},
          {n: "Tost francuski z syropem klonowym i owocami", p: "22 zł"},
          {n: "Pancakes z jagodami i bitą śmietaną", p: "24 zł"},
          {n: "Eggs Benedict na brioszce z łososiem", p: "34 zł"},
          {n: "Szakszuka z pomidorami i kolendrą", p: "28 zł"},
          {n: "Smoothie bowl z granolą i chia", p: "26 zł"},
          {n: "Croissant z konfiturą różaną i masłem", p: "15 zł"},
          {n: "Talerz serów i wędlin regionalnych", p: "35 zł"}
        ]
      },
      lunch: {
        title: "Dania Główne",
        items: [
          {n: "Polędwiczka wieprzowa w sosie kurkowym", p: "69 zł"},
          {n: "Filet z dorsza z puree groszkowym", p: "75 zł"},
          {n: "Stek wołowy z masłem czosnkowym", p: "119 zł"},
          {n: "Kaczka pieczona z jabłkami i żurawiną", p: "89 zł"},
          {n: "Łosoś z grilla z dzikim ryżem", p: "72 zł"},
          {n: "Tagliatelle z krewetkami i białym winem", p: "58 zł"},
          {n: "Risotto z borowikami i parmezanem", p: "54 zł"},
          {n: "Burger Olimp z wołowiną Angus", p: "59 zł"},
          {n: "Krem z pomidorów pieczonych z pesto", p: "24 zł"}
        ]
      },
      dinner: {
        title: "Oferta Wieczornna",
        items: [
          {n: "Carpaccio wołowe z rukolą i kaparami", p: "45 zł"},
          {n: "Grillowane krewetki w sosie winno-maślanym", p: "59 zł"},
          {n: "Tatar z łososia z awokado", p: "48 zł"},
          {n: "Deska tapas dla 2 osób", p: "85 zł"},
          {n: "Sałatka z pieczonym burakiem i fetą", p: "39 zł"},
          {n: "Świeże małże w białym winie (500g)", p: "65 zł"},
          {n: "Zupa cebulowa z grzanką serową", p: "26 zł"}
        ]
      },
      desserts: {
        title: "Słodkie Specjały",
        items: [
          {n: "Fondant czekoladowy z lodami waniliowymi", p: "35 zł"},
          {n: "Sernik nowojorski z sosem malinowym", p: "30 zł"},
          {n: "Beza Pavlova z owocami sezonowymi", p: "38 zł"},
          {n: "Crème brûlée z laską wanilii", p: "32 zł"},
          {n: "Tartaletka z musem pistacjowym", p: "29 zł"},
          {n: "Puchar lodów rzemieślniczych", p: "25 zł"},
          {n: "Szarlotka na ciepło z bitą śmietaną", p: "27 zł"}
        ]
      },
      
      drinks: {
        title: "Napoje i Koktajle",
        items: [
          {n: "Aperol Spritz (Klasyk)", p: "32 zł"},
          {n: "Mojito z dużą ilością mięty", p: "35 zł"},
          {n: "Whisky Sour Premium", p: "42 zł"},
          {n: "Kawa Flat White / Latte", p: "16 zł"},
          {n: "Herbata liściasta w dzbanku", p: "18 zł"},
          {n: "Sok ze świeżych pomarańczy", p: "18 zł"},
          {n: "Domowa lemoniada cytrynowa", p: "15 zł"},
          {n: "Wino domowe (kieliszek)", p: "22 zł"}
        ]
      }
    };

    function openMenu(cat) {
      const data = menuData[cat];
      let html = `<h2>${data.title}</h2><ul class="modal-menu-list">`;
      data.items.forEach(item => {
        html += `<li>${item.n} <span>${item.p}</span></li>`;
      });
      html += `</ul>`;
      document.getElementById('modal-body').innerHTML = html;
      document.getElementById('menu-modal').classList.add('active');
    }

    function closeMenu() {
      document.getElementById('menu-modal').classList.remove('active');
    }

    // Nawigacja mobilna
    const btn = document.getElementById('menu-btn');
    const links = document.getElementById('nav--links');
    if (btn && links) btn.addEventListener('click', () => links.classList.toggle('open'));
  </script>
  <script>
  const API_admin = (location.hostname === 'localhost' || location.hostname === '127.0.0.1')
    ? 'http://localhost:3000'
    : '';

  async function request(url, opts){
    try{
      const r = await fetch(url, opts);
      let body = {};
      try{ body = await r.json(); }catch(e){}
      return { ok:r.ok, status:r.status, body };
    }catch(err){
      return { ok:false, status:0, body:{ error:'Brak połączenia z backendem' } };
    }
  }

  (async () => {
    const li = document.getElementById('adminNavItem');
    if (!li) return;

    const res = await request(API_admin + '/api/auth/me', { credentials: 'include' });

    // pokaż tylko gdy admin
    if (res.ok && res.body?.user?.isAdmin === true) {
      li.hidden = false;
    } else {
      li.hidden = true;
    }
  })();
</script>

</body>
</html>